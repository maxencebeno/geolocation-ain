{% trans_default_domain 'GeolocationUserBundle' %}

<div class="container">
    <div class="row">

        {% form_theme form 'GeolocationUserBundle:Form:error.html.twig' %}
        {{ form_start(form) }}
        {{ form_errors(form) }}

        <div class="row">
            <div id="ressource_edit" class="form-group col-sm-5">
                <h2>{{ 'profile.edit.ressource_title'|trans }}</h2>
                <div class="row">
                    <div class="col-sm-4">
                        <span class="form-edit-label">{{ form_label(form.besoin) }}</span>
                        {{ form_widget(form.besoin, { 'attr': {'class': 'edit-form-names form-control', 'autocomplete': 'off', 'spellcheck': 'false'}}) }}
                        <span class="form-error" id="error-besoin">{{ form_errors(form.besoin) }}</span>
                    </div>

                    {% include 'GeolocationUserBundle:Ajax:template_ajax.html.twig' %}

                    <div class="col-sm-4 hide">
                        <span class="form-edit-label">{{ form_label(form.cpf) }}</span>
                        {{ form_widget(form.cpf, { 'attr': {'class': 'edit-form-names form-control', 'autocomplete': 'off', 'spellcheck': 'false'}}) }}
                        <span class="form-error" id="error-cpf">{{ form_errors(form.cpf) }}</span>
                    </div>

                    <div class="col-sm-4 hide">
                        <span class="form-edit-label">{{ form_label(form.cpf) }}</span>
                        {{ form_widget(form.cpf, { 'attr': {'class': 'edit-form-names form-control', 'autocomplete': 'off', 'spellcheck': 'false'}}) }}
                        <span class="form-error" id="error-cpf">{{ form_errors(form.cpf) }}</span>
                    </div>

                    <div class="col-sm-4 hide">
                        <span class="form-edit-label">{{ form_label(form.cpf) }}</span>
                        {{ form_widget(form.cpf, { 'attr': {'class': 'edit-form-names form-control', 'autocomplete': 'off', 'spellcheck': 'false'}}) }}
                        <span class="form-error" id="error-cpf">{{ form_errors(form.cpf) }}</span>
                    </div>

                    <div class="col-sm-4 hide">
                        <span class="form-edit-label">{{ form_label(form.cpf) }}</span>
                        {{ form_widget(form.cpf, { 'attr': {'class': 'edit-form-names form-control', 'autocomplete': 'off', 'spellcheck': 'false'}}) }}
                        <span class="form-error" id="error-cpf">{{ form_errors(form.cpf) }}</span>
                    </div>


                </div>


                {{ form_widget(form.saveRessource, { 'attr': {'class': 'submit-button-geolocation', 'value' : ('profile.edit.ressource_submit'|trans) }}) }}

                {{ form_end(form) }}
            </div>
        </div>

        <div id="ressource_delete" class="form-group col-sm-12">
            <h2>Mes ressources</h2>
                {% if ressources|length > 0 %}
                    <ul id="listRessource">
                        {% for key, ressource in ressources %}
                            <li class="myRessource">
                                <ul >
                                    <li><strong>Besoin : </strong>
                                        {% if ressource.getBesoin()==true %}
                                            Oui
                                        {% else %}
                                            Non
                                        {% endif %}
                                    </li>
                                    <li>
                                        <strong>Ressources : </strong>
                                        {{ ressource.getCpf() }}
                                    </li>
                                    <a href = "{{ path('user_ressources_delete', { 'id': ressource.getId() }) }}" >
                                        <button id="  {{ ressource.getId() }}" class="btn btn-danger">Supprimer</button>
                                    </a>
                                </ul>
                            </li>

                        {% endfor %}
                    </ul>
                {% else %}
                    <p>
                        {{ 'profile.show.no_ressources'|trans }} 
                    </p>
                {% endif %}
            </ul>

            <a href="{{ path('fos_user_profile_show') }}" class="submit-button-geolocation-light">
                {{ 'profile.edit.back_on_profile'|trans }}
            </a>
        </div>
    </div>

</div>